{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3eb799c3fa1df360f03f","webpack:///./classes/fsapiconfig.ts","webpack:///./classes/fsapihandler.ts","webpack:///./classes/index.ts","webpack:///./fsapi.module.ts","webpack:///./index.ts","webpack:///./services/fsapi.service.ts","webpack:///./services/index.ts","webpack:///external \"@angular/common\"","webpack:///external \"@angular/common/http\"","webpack:///external \"@angular/core\"","webpack:///external \"lodash\"","webpack:///external \"moment-timezone\"","webpack:///external \"rxjs/Observable\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@firestitch/api\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@firestitch/api\"] = factory();\n\telse\n\t\troot[\"@firestitch/api\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.ts\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3eb799c3fa1df360f03f","import { Injectable, Optional, Inject } from '@angular/core';\n\nexport enum ResponseType {\n  body = 'body',\n  httpEvent = 'httpEvent'\n}\n\n@Injectable()\nexport class FsApiConfig {\n  /** A key value store for the request headers. */\n  public headers?: object = {};\n  public encoding? = 'json';\n  public key?: string = null;\n  public query?: object = {};\n  public responseType: ResponseType = ResponseType.body;\n\n  constructor(@Optional() @Inject('FsApiConfig') private config?: any) {\n    Object.assign(this, config || {});\n  }\n\n  /** Adds or overrides a header value based on the name */\n  public appendHeader(name: string, value: string) {\n     this.headers[name] = value;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./classes/fsapiconfig.ts","import {  HttpClient, HttpRequest, HttpHeaderResponse, HttpProgressEvent,\n          HttpResponse, HttpSentEvent, HttpUserEvent } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\nexport class FsApiHandler {\n\n  constructor(private http: HttpClient) {}\n\n  handle(request: HttpRequest<any>) {\n    return this.http.request(request);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./classes/fsapihandler.ts","export * from './fsapiconfig';\nexport * from './fsapihandler';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./classes/index.ts","import { HttpClientModule } from '@angular/common/http';\nimport { FsApiConfig, FsApi } from './';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule\n],\ndeclarations: [],\nproviders: [\n    FsApi,\n    FsApiConfig\n],\nexports: [\n]\n})\nexport class FsApiModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: FsApiModule,\n      providers: [FsApiConfig, FsApi]\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./fsapi.module.ts","export * from './services';\nexport * from './classes';\nexport * from './fsapi.module';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./index.ts","import { Injectable, Inject, Optional } from '@angular/core';\nimport { FsUtil } from '@firestitch/common';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpClient, HttpRequest, HttpEvent, HttpParams, HttpEventType, HttpHeaders } from '@angular/common/http';\nimport * as moment from 'moment-timezone';\nimport { FsApiConfig, FsApiHandler, ResponseType } from '../classes';\nimport { forEach, isObject } from 'lodash';\n\n@Injectable()\nexport class FsApi {\n\n  events = [];\n\n  constructor(private FsApiConfig: FsApiConfig, private http: HttpClient) {}\n\n  public get(url, query?, config?) {\n    return this.request('GET', url, query, config);\n  }\n\n  public post(url, data?: object, config?): Observable<any> {\n    return this.request('POST', url, data, config);\n  }\n\n  public put(url, data?: object, config?): Observable<any> {\n    return this.request('PUT', url, data, config);\n  }\n\n  public delete(url, data?: object, config?): Observable<any> {\n      return this.request('DELETE', url, data, config);\n  }\n\n  public request(method: string, url: string, data?: object, config?): Observable<any> {\n\n    config = <FsApiConfig>Object.assign({}, this.FsApiConfig, config);\n    method = method.toUpperCase();\n    data = Object.assign({}, data);\n\n    this.sanitize(data);\n\n    if (method === 'GET') {\n      config.query = data;\n      data = {};\n    }\n\n    let headers = new HttpHeaders();\n    forEach(config.headers, function(value, name) {\n      headers = headers.set(name, value);\n    });\n\n    let hasFile = false;\n    forEach(data, function(item) {\n       if (item instanceof File || item instanceof Blob) {\n        hasFile = true;\n        config.encoding = 'formdata';\n      }\n    });\n\n    let body = null;\n    if (config.encoding === 'url') {\n      headers = headers.set('Content-Type', 'application/x-www-form-urlencoded');\n      body = data;\n\n    } else if (config.encoding === 'json') {\n      headers = headers.set('Content-Type', 'text/json');\n      body = JSON.stringify(data);\n\n    } else if (config.encoding === 'formdata') {\n      headers = headers.delete('Content-Type');\n      body = new FormData();\n      forEach(data, function(item, key) {\n        if (item != null && item.name) {\n          body.append(key, item, item.name);\n        } else {\n          body.append(key, item);\n        }\n      });\n    }\n\n    //begin(request, headers, config);\n\n    // var timeout = config.uploadTimeout;\n    //   var slowTimeout = null;\n\n    //     if(!hasFile) {\n    //       timeout = config.timeout;\n    //       if(config.slowTimeout) {\n    //         slowTimeout = setTimeout(function() {\n    //           fsAlert.info('Your request is still processing, please wait...',{ hideDelay: 0, toastClass: 'fs-api-slow-timeout' });\n    //         },config.slowTimeout * 1000);\n    //     }\n    //if(url.match(/^http/)) {\n\n\n   // let url = config.url + url;\n    // if(config.forceHttps && !url.match(/^https/)) {\n\n    //   if(url.match(/^http/)) {\n    //     url = url.replace(/^https/,'https');\n    //   } else {\n    //     url = 'https://' + $location.$$host + ($location.$$port==80 ? '' : ':' + $location.$$port) + url;\n    //   }\n    // }\n\n    let params = new HttpParams();\n    forEach(config.query, function(value, name) {\n      params = params.append(name, value);\n    });\n\n    const request = new HttpRequest(method, url, body, {\n      headers: headers,\n      params: params,\n      reportProgress: config.reportProgress\n    });\n\n    if (config.reportProgress) {\n      config.responseType = ResponseType.httpEvent;\n    }\n\n    this.trigger('begin', request, config);\n    let httpObservable = null;\n    return new Observable(observer => {\n        httpObservable = this.intercept(config, request, new FsApiHandler(this.http))\n        .subscribe((event: HttpEvent<any>) => {\n\n          if (config.responseType == ResponseType.httpEvent) {\n            observer.next(event);\n\n          } else if (event.type === HttpEventType.Response) {\n            this.trigger('success', event, config);\n            observer.next(event.body);\n          }\n        },\n        err => {\n          this.trigger('error', err, config);\n          observer.error(err);\n        },\n        () => {\n          this.trigger('complete', {}, config);\n          observer.complete();\n        });\n\n        return {\n          unsubscribe() {\n            httpObservable.unsubscribe();\n          }\n        };\n    });\n  }\n\n  public on(name, func) {\n    this.events.push({ name: name, func: func });\n    return this;\n  }\n\n  public trigger(name, data, config) {\n    forEach(this.events, function(event) {\n      if (name === event.name) {\n        event.func(data, config);\n      }\n    });\n    return this;\n  }\n\n  public intercept(config: FsApiConfig, request: HttpRequest<any>, next: FsApiHandler) {\n    return next.handle(request);\n  }\n\n  private sanitize(obj) {\n    const self = this;\n    forEach(obj, function(value, key) {\n      if (moment && moment.isMoment(value)) {\n          obj[key] = value.format();\n\n      } else if (value instanceof Date) {\n        obj[key] = moment(value).format();\n\n      } else if (value === undefined) {\n        delete obj[key];\n\n      } else if (isObject(value)) {\n        self.sanitize(value);\n      }\n    });\n\n    return obj;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./services/fsapi.service.ts","export * from './fsapi.service';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./services/index.ts","module.exports = require(\"@angular/common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = @angular/common\n// module chunks = 0","module.exports = require(\"@angular/common/http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common/http\"\n// module id = @angular/common/http\n// module chunks = 0","module.exports = require(\"@angular/core\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = @angular/core\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = lodash\n// module chunks = 0","module.exports = require(\"moment-timezone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment-timezone\"\n// module id = moment-timezone\n// module chunks = 0","module.exports = require(\"rxjs/Observable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = rxjs/Observable\n// module chunks = 0"],"sourceRoot":""}