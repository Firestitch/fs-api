{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1d58472eaed38797f201","webpack:///./fsapi.module.ts","webpack:///./fsapi.service.ts","webpack:///./index.ts","webpack:///external \"@angular/common\"","webpack:///external \"@angular/common/http\"","webpack:///external \"@angular/core\"","webpack:///external \"@firestitch/common\"","webpack:///external \"moment-timezone\"","webpack:///external \"rxjs/Observable\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;AC7DA,yDAA4C;AAE5C,yDAAwD;AACxD,gEAAqD;AAGrD,kDAA8D;AAC9D,sDAA+C;AAE/C,oDAAgC;AAgBhC;IAAA;IAOA,CAAC;oBAPY,WAAW;IACf,mBAAO,GAAd;QACE,MAAM,CAAC;YACL,QAAQ,EAAE,aAAW;YACrB,SAAS,EAAE,CAAC,2BAAW,EAAE,qBAAK,CAAC;SAChC,CAAC;IACJ,CAAC;IANU,WAAW;QAdvB,eAAQ,CAAC;YACR,OAAO,EAAE;gBACP,qBAAY;gBACZ,uBAAgB;aACnB;YACD,YAAY,EAAE,EAAE;YAChB,SAAS,EAAE;gBACP,eAAM;gBACN,qBAAK;gBACL,2BAAW;aACd;YACD,OAAO,EAAE,EACR;SACA,CAAC;OACW,WAAW,CAOvB;IAAD,kBAAC;;CAAA;AAPY,kCAAW;;;;;;;;;;;;;;;;;;;;;;;ACzBxB,kDAA6D;AAC7D,yDAA4C;AAC5C,0DAA6C;AAC7C,yDAAkH;AAClH,+DAAqC;AAGrC;IAOE,qBAAuD,MAAY;QAAZ,WAAM,GAAN,MAAM,CAAM;QANnE,iDAAiD;QAC1C,YAAO,GAAY,EAAE,CAAC;QACtB,aAAQ,GAAY,MAAM,CAAC;QAC3B,QAAG,GAAY,IAAI,CAAC;QACpB,UAAK,GAAY,EAAE,CAAC;QAGzB,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,IAAI,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,yDAAyD;IAClD,kCAAY,GAAnB,UAAoB,IAAY,EAAE,KAAa;QAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;IAC9B,CAAC;IAdU,WAAW;QADvB,iBAAU,EAAE;QAQE,0BAAQ,EAAE,GAAE,wBAAM,CAAC,aAAa,CAAC;;OAPnC,WAAW,CAevB;IAAD,kBAAC;CAAA;AAfY,kCAAW;AAkBxB;IAIE,eAAoB,WAAwB,EAAU,MAAc,EAAU,IAAgB;QAA1E,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAY;QAF9F,WAAM,GAAG,EAAE,CAAC;IAEqF,CAAC;IAE3F,mBAAG,GAAV,UAAW,GAAG,EAAE,KAAM,EAAE,MAAoB;QAC1C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;IAEM,oBAAI,GAAX,UAAY,GAAG,EAAE,IAAa,EAAE,MAAoB;QAClD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;IAEM,mBAAG,GAAV,UAAW,GAAG,EAAE,IAAa,EAAE,MAAoB;QACjD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC;IAEM,sBAAM,GAAb,UAAc,GAAG,EAAE,IAAa,EAAE,MAAoB;QAClD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACrD,CAAC;IAEM,uBAAO,GAAd,UAAe,MAAc,EAAE,GAAW,EAAE,IAAa,EAAE,MAAoB;QAA/E,iBAmHC;QAjHC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QACrD,MAAM,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAC9B,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAE/B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEpB,EAAE,CAAC,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,IAAI,GAAG,EAAE,CAAC;QACZ,CAAC;QAED,IAAI,OAAO,GAAG,IAAI,kBAAW,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,UAAS,KAAK,EAAE,IAAI;YACnD,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAS,IAAI;YACjC,EAAE,CAAC,CAAC,IAAI,YAAY,IAAI,IAAI,IAAI,YAAY,IAAI,CAAC,CAAC,CAAC;gBAClD,OAAO,GAAG,IAAI,CAAC;gBACf,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC/B,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;YAC9B,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;YAC3E,IAAI,GAAG,IAAI,CAAC;QAEd,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC;YACtC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YACnD,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAE9B,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,UAAU,CAAC,CAAC,CAAC;YAC1C,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;YACzC,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,UAAS,IAAI,EAAE,GAAG;gBACvC,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBACpC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gBACzB,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAED,kCAAkC;QAElC,sCAAsC;QACtC,4BAA4B;QAE5B,qBAAqB;QACrB,kCAAkC;QAClC,iCAAiC;QACjC,gDAAgD;QAChD,kIAAkI;QAClI,wCAAwC;QACxC,QAAQ;QACR,0BAA0B;QAG3B,8BAA8B;QAC7B,kDAAkD;QAElD,6BAA6B;QAC7B,2CAA2C;QAC3C,aAAa;QACb,wGAAwG;QACxG,MAAM;QACN,IAAI;QAEJ,IAAI,MAAM,GAAG,IAAI,iBAAU,EAAE,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,UAAS,KAAK,EAAE,IAAI;YACjD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,IAAI,kBAAW,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;YACjD,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,MAAM;SACf,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;QAEvC,MAAM,CAAC,uBAAU,CAAC,MAAM,CAAC,kBAAQ;YAE7B,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,YAAY,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;iBAC3D,SAAS,CAAC,UAAC,KAAqB;gBAC/B,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAa,CAAC,IAAI,CAAC,CAAC,CAAC;oBACtC,MAAM,CAAC;gBACT,CAAC;gBAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAa,CAAC,cAAc,CAAC,CAAC,CAAC;oBAChD,MAAM,CAAC;gBACT,CAAC;gBAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAClD,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;oBACjD,MAAM,CAAC;gBACT,CAAC;gBAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC1C,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;oBACvC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC,EACD,aAAG;gBACD,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;gBACrC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtB,CAAC,EACD;gBACE,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBACvC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,kBAAE,GAAT,UAAU,IAAI,EAAE,IAAI;QAClB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAC7C,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEM,uBAAO,GAAd,UAAe,IAAI,EAAE,IAAI,EAAE,WAAW;QACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,UAAS,KAAK;YAC1C,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBACxB,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YAChC,CAAC;QACH,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEM,yBAAS,GAAhB,UAAiB,MAAmB,EAAE,OAAyB,EAAE,IAAkB;QACjF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAEO,wBAAQ,GAAhB,UAAiB,GAAG;QAClB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,UAAS,KAAK,EAAE,GAAG;YACvC,EAAE,CAAC,CAAC,yBAAM,IAAI,yBAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACnC,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAE9B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,YAAY,IAAI,CAAC,CAAC,CAAC;gBACjC,GAAG,CAAC,GAAG,CAAC,GAAG,yBAAM,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;YAEpC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC/B,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;YAElB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IA/KU,KAAK;QADjB,iBAAU,EAAE;yCAKsB,WAAW,EAAkB,eAAM,EAAgB,iBAAU;OAJnF,KAAK,CAgLjB;IAAD,YAAC;CAAA;AAhLY,sBAAK;AAkLlB;IAEE,sBAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,6BAAM,GAAN,UAAO,OAAyB;QAC9B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAC,OAAO,CAAC,CAAC;QACpC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IACH,mBAAC;AAAD,CAAC;AARY,oCAAY;;;;;;;;;;;;;;AC3MzB,mDAA+B;AAC/B,oDAAgC;;;;;;;;ACDhC,4C;;;;;;;ACAA,iD;;;;;;;ACAA,0C;;;;;;;ACAA,+C;;;;;;;ACAA,4C;;;;;;;ACAA,4C","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.ts\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1d58472eaed38797f201","import { FsUtil } from '@firestitch/common';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { FsApiConfig, FsApi } from './fsapi.service';\n\nimport { JsonpModule } from '@angular/http';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nexport * from './fsapi.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule\n],\ndeclarations: [],\nproviders: [\n    FsUtil,\n    FsApi,\n    FsApiConfig\n],\nexports: [\n]\n})\nexport class FsApiModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: FsApiModule,\n      providers: [FsApiConfig, FsApi]\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./fsapi.module.ts","import { Injectable, Inject, Optional } from '@angular/core';\nimport { FsUtil } from '@firestitch/common';\nimport { Observable } from 'rxjs/Observable';\nimport { HttpClient, HttpRequest, HttpEvent, HttpParams, HttpEventType, HttpHeaders } from '@angular/common/http';\nimport moment from 'moment-timezone';\n\n@Injectable()\nexport class FsApiConfig {\n  /** A key value store for the request headers. */\n  public headers?: object = {};\n  public encoding?: string = 'json';\n  public key?: string = null;\n  public query?: object = {};\n\n  constructor(@Optional() @Inject('FsApiConfig') private config?: any) {\n    Object.assign(this, config || {});\n  }\n\n  /** Adds or overrides a header value based on the name */\n  public appendHeader(name: string, value: string) {\n     this.headers[name] = value;\n  }\n}\n\n@Injectable()\nexport class FsApi {\n\n  events = [];\n\n  constructor(private FsApiConfig: FsApiConfig, private FsUtil: FsUtil, private http: HttpClient) {}\n\n  public get(url, query?, config?: FsApiConfig) {\n    return this.request('GET', url, query, config);\n  }\n\n  public post(url, data?: object, config?: FsApiConfig): Observable<any> {\n    return this.request('POST', url, data, config);\n  }\n\n  public put(url, data?: object, config?: FsApiConfig): Observable<any> {\n    return this.request('PUT', url, data, config);\n  }\n\n  public delete(url, data?: object, config?: FsApiConfig): Observable<any> {\n      return this.request('DELETE', url, data, config);\n  }\n\n  public request(method: string, url: string, data?: object, config?: FsApiConfig): Observable<any> {\n\n    config = Object.assign({}, this.FsApiConfig, config);\n    method = method.toUpperCase();\n    data = Object.assign({}, data);\n\n    this.sanitize(data);\n\n    if (method === 'GET') {\n      config.query = data;\n      data = {};\n    }\n\n    let headers = new HttpHeaders();\n    this.FsUtil.each(config.headers, function(value, name) {\n      headers = headers.set(name, value);\n    });\n\n    let hasFile = false;\n    this.FsUtil.each(data, function(item) {\n       if (item instanceof File || item instanceof Blob) {\n        hasFile = true;\n        config.encoding = 'formdata';\n      }\n    });\n\n    let body = null;\n    if (config.encoding === 'url') {\n      headers = headers.set('Content-Type', 'application/x-www-form-urlencoded');\n      body = data;\n\n    } else if (config.encoding === 'json') {\n      headers = headers.set('Content-Type', 'text/json');\n      body = JSON.stringify(data);\n\n    } else if (config.encoding === 'formdata') {\n      headers = headers.delete('Content-Type');\n      body = new FormData();\n      this.FsUtil.each(data, function(item, key) {\n        if (item != null && item.name) {\n          body.append(key, item, item.name);\n        } else {\n          body.append(key, item);\n        }\n      });\n    }\n\n    //begin(request, headers, config);\n\n    // var timeout = config.uploadTimeout;\n    //   var slowTimeout = null;\n\n    //     if(!hasFile) {\n    //       timeout = config.timeout;\n    //       if(config.slowTimeout) {\n    //         slowTimeout = setTimeout(function() {\n    //           fsAlert.info('Your request is still processing, please wait...',{ hideDelay: 0, toastClass: 'fs-api-slow-timeout' });\n    //         },config.slowTimeout * 1000);\n    //     }\n    //if(url.match(/^http/)) {\n\n\n   // let url = config.url + url;\n    // if(config.forceHttps && !url.match(/^https/)) {\n\n    //   if(url.match(/^http/)) {\n    //     url = url.replace(/^https/,'https');\n    //   } else {\n    //     url = 'https://' + $location.$$host + ($location.$$port==80 ? '' : ':' + $location.$$port) + url;\n    //   }\n    // }\n\n    let params = new HttpParams();\n    this.FsUtil.each(config.query, function(value, name) {\n      params = params.append(name, value);\n    });\n\n    const request = new HttpRequest(method, url, body, {\n      headers: headers,\n      params: params\n    });\n\n    this.trigger('begin', request, config);\n\n    return Observable.create(observer => {\n\n        this.intercept(config, request, new FsApiHandler(this.http))\n        .subscribe((event: HttpEvent<any>) => {\n          if (event.type === HttpEventType.Sent) {\n            return;\n          }\n\n          if (event.type === HttpEventType.ResponseHeader) {\n            return;\n          }\n\n          if (event.type === HttpEventType.DownloadProgress) {\n            const kbLoaded = Math.round(event.loaded / 1024);\n            return;\n          }\n\n          if (event.type === HttpEventType.Response) {\n            this.trigger('success', event, config);\n            observer.next(event.body);\n          }\n      },\n      err => {\n        this.trigger('error', event, config);\n        observer.error(err);\n      },\n      () => {\n        this.trigger('complete', null, config);\n        observer.complete();\n      });\n    });\n  }\n\n  public on(name, func) {\n    this.events.push({ name: name, func: func });\n    return this;\n  }\n\n  public trigger(name, data, FsApiConfig) {\n    this.FsUtil.each(this.events, function(event) {\n      if (name === event.name) {\n        event.func(data, FsApiConfig);\n      }\n    });\n    return this;\n  }\n\n  public intercept(config: FsApiConfig, request: HttpRequest<any>, next: FsApiHandler) {\n    return next.handle(request);\n  }\n\n  private sanitize(obj) {\n    const self = this;\n    this.FsUtil.each(obj, function(value, key) {\n      if (moment && moment.isMoment(value)) {\n          obj[key] = value.format();\n\n      } else if (value instanceof Date) {\n        obj[key] = moment(value).format();\n\n      } else if (value === undefined) {\n        delete obj[key];\n\n      } else if (self.FsUtil.isObject(value)) {\n        self.sanitize(value);\n      }\n    });\n\n    return obj;\n  }\n}\n\nexport class FsApiHandler {\n\n  constructor(private http: HttpClient) {}\n\n  handle(request: HttpRequest<any>) {\n    console.log('FsApiHandler',request);\n    return this.http.request(request);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./fsapi.service.ts","export * from './fsapi.module';\nexport * from './fsapi.service';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/angular2-template-loader!./index.ts","module.exports = require(\"@angular/common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = @angular/common\n// module chunks = 0","module.exports = require(\"@angular/common/http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common/http\"\n// module id = @angular/common/http\n// module chunks = 0","module.exports = require(\"@angular/core\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = @angular/core\n// module chunks = 0","module.exports = require(\"@firestitch/common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@firestitch/common\"\n// module id = @firestitch/common\n// module chunks = 0","module.exports = require(\"moment-timezone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment-timezone\"\n// module id = moment-timezone\n// module chunks = 0","module.exports = require(\"rxjs/Observable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = rxjs/Observable\n// module chunks = 0"],"sourceRoot":""}